<script lang="ts">
    import { currentCategory } from "../../lib/index.svelte";

    function onclick(e: MouseEvent) {
        if (e.currentTarget instanceof HTMLElement) {
            currentCategory.name = e.currentTarget.getAttribute("aria-label") ?? "";
        }
    }
</script>


<div class="carousel">
    <ul>
        <li class:selected={currentCategory.name === "atmosphere"}>
            <button 
            class="image-container" 
            aria-label="atmosphere" 
            {onclick}>
                <svg width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 22H15" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M12 22V15" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M12 2C14.4232 2 15.6348 2 16.5824 2.56616C16.8571 2.73028 17.1111 2.92678 17.339 3.15144C18.1252 3.9264 18.4296 5.0991 19.0385 7.44451L19.1227 7.76898C19.9506 10.9576 20.3645 12.5519 19.6126 13.6719C19.5377 13.7837 19.4552 13.8902 19.3659 13.9909C18.4707 15 16.8236 15 13.5293 15H10.4708C7.17648 15 5.52933 15 4.63411 13.9909C4.54482 13.8902 4.4624 13.7837 4.38742 13.6719C3.6356 12.5519 4.04951 10.9576 4.87731 7.76897L4.96155 7.44451C5.57045 5.0991 5.87491 3.9264 6.66102 3.15144C6.88891 2.92678 7.14294 2.73028 7.41765 2.56616C7.59981 2.45733 7.79173 2.36942 8.00012 2.29841" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M17.5 15V17" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
            </button>
            <p>Atmosphere</p>
        </li>

        <li class:selected={currentCategory.name === "seating"}>
            <button class="image-container" 
            aria-label="seating"  
            {onclick}>
                <svg width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9643 2.25H12.0359C12.9401 2.24999 13.6694 2.24998 14.2577 2.3033C14.8641 2.35826 15.3939 2.47455 15.8751 2.75241C16.4452 3.08154 16.9186 3.55493 17.2477 4.125C17.5256 4.60625 17.6418 5.13605 17.6968 5.7424C17.7501 6.3307 17.7501 7.05998 17.7501 7.96423V11.371C18.2441 11.4754 18.6911 11.6795 19.052 12.0919C19.4975 12.6011 19.6428 13.2365 19.703 13.9366C19.7044 13.9525 19.7058 13.9684 19.7071 13.9843C19.7424 14.3935 19.7758 14.7811 19.7541 15.105C19.7292 15.4762 19.6285 15.855 19.3273 16.1833C19.0162 16.5223 18.6255 16.6485 18.2514 16.702C18.099 16.7237 17.9306 16.7357 17.7501 16.7422V21C17.7501 21.4142 17.4143 21.75 17.0001 21.75C16.5859 21.75 16.2501 21.4142 16.2501 21V16.75H7.75011V21C7.75011 21.4142 7.41432 21.75 7.00011 21.75C6.58589 21.75 6.25011 21.4142 6.25011 21V16.7422C6.06959 16.7357 5.9012 16.7237 5.74883 16.702C5.37467 16.6485 4.98401 16.5223 4.67291 16.1833C4.37169 15.855 4.27099 15.4762 4.24614 15.105C4.22445 14.7811 4.25785 14.3934 4.29309 13.9842C4.29446 13.9684 4.29583 13.9525 4.2972 13.9366C4.35737 13.2365 4.50268 12.6011 4.94824 12.0919C5.30912 11.6795 5.75609 11.4754 6.25011 11.371L6.25011 7.96421C6.2501 7.05997 6.25009 6.33069 6.30341 5.7424C6.35836 5.13605 6.47466 4.60625 6.75251 4.125C7.08164 3.55493 7.55503 3.08154 8.12511 2.75241C8.60636 2.47455 9.13616 2.35826 9.7425 2.3033C10.3308 2.24998 11.0601 2.24999 11.9643 2.25ZM8.44372 11.25C8.40708 11.25 8.37069 11.25 8.33454 11.25H7.75011V8C7.75011 7.05158 7.75082 6.39041 7.79729 5.87779C7.84281 5.37549 7.92748 5.0899 8.05155 4.875C8.24903 4.53296 8.53306 4.24892 8.87511 4.05144C9.09001 3.92737 9.37559 3.84271 9.8779 3.79718C10.3905 3.75072 11.0517 3.75 12.0001 3.75C12.9485 3.75 13.6097 3.75072 14.1223 3.79718C14.6246 3.84271 14.9102 3.92737 15.1251 4.05144C15.4671 4.24892 15.7512 4.53296 15.9487 4.875C16.0727 5.0899 16.1574 5.37549 16.2029 5.87779C16.2494 6.39041 16.2501 7.05158 16.2501 8V11.25H15.6657C15.6295 11.25 15.5931 11.25 15.5565 11.25H8.44372ZM8.50011 12.75C7.65102 12.75 7.10025 12.7521 6.69378 12.8145C6.32028 12.8719 6.17689 12.9656 6.0771 13.0797C5.95089 13.2239 5.84334 13.4641 5.79168 14.065C5.75092 14.5393 5.72974 14.8098 5.74279 15.0048C5.74859 15.0915 5.76004 15.1324 5.76595 15.1487C5.76977 15.1592 5.77186 15.1623 5.77805 15.169L5.77924 15.1703C5.77921 15.1703 5.77925 15.1703 5.77924 15.1703L5.78231 15.1723C5.78409 15.1733 5.78721 15.1749 5.79206 15.1771C5.81294 15.1863 5.86142 15.2028 5.96095 15.2171C6.17899 15.2482 6.48501 15.25 7.00011 15.25H17.0001C17.5152 15.25 17.8212 15.2482 18.0393 15.2171C18.1388 15.2028 18.1873 15.1863 18.2082 15.1771C18.213 15.1749 18.2161 15.1733 18.2179 15.1723L18.2206 15.1707C18.2206 15.1706 18.2206 15.1706 18.2206 15.1707L18.2222 15.169C18.2284 15.1623 18.2304 15.1592 18.2343 15.1487C18.2402 15.1324 18.2516 15.0915 18.2574 15.0048C18.2705 14.8098 18.2493 14.5393 18.2085 14.065C18.1569 13.4641 18.0493 13.2239 17.9231 13.0797C17.8233 12.9656 17.6799 12.8719 17.3064 12.8145C16.9 12.7521 16.3492 12.75 15.5001 12.75H8.50011Z"/> 
                </svg>
            </button>
            <p>Seating</p>
        </li>


        <li class:selected={currentCategory.name === "comfort"}>
            <button class="image-container" 
            aria-label="comfort" 
            {onclick}>
                <svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 20V18.5M5 20V18.5" stroke="#000000" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M2 15C2 14.0681 2 13.6022 2.15224 13.2346C2.35523 12.7446 2.74458 12.3552 3.23463 12.1522C3.60218 12 4.06812 12 5 12H19C19.9319 12 20.3978 12 20.7654 12.1522C21.2554 12.3552 21.6448 12.7446 21.8478 13.2346C22 13.6022 22 14.0681 22 15C22 15.9319 22 16.3978 21.8478 16.7654C21.6448 17.2554 21.2554 17.6448 20.7654 17.8478C20.3978 18 19.9319 18 19 18H5C4.06812 18 3.60218 18 3.23463 17.8478C2.74458 17.6448 2.35523 17.2554 2.15224 16.7654C2 16.3978 2 15.9319 2 15Z" stroke="#1C274C" stroke-width="1.5"/>
                    <path d="M21 12C21 8.22876 21 6.34315 19.8284 5.17157C18.6569 4 16.7712 4 13 4H11C7.22876 4 5.34315 4 4.17157 5.17157C3 6.34315 3 8.22876 3 12" stroke="#1C274C" stroke-width="1.5"/>
                    <path d="M18.5 12V10.5C18.5 8.61438 18.5 7.67157 17.9142 7.08579C17.3284 6.5 16.3856 6.5 14.5 6.5H9.5C7.61438 6.5 6.67157 6.5 6.08579 7.08579C5.5 7.67157 5.5 8.61438 5.5 10.5V12" stroke="#1C274C" stroke-width="1.5"/>
                    <path d="M12 7V12" stroke="#000000" stroke-width="1.5"/>
                </svg>
            </button>
            <p>Comfort</p>
        </li>

        <li class:selected={currentCategory.name === "open-late"}>
            <button class="image-container" 
            aria-label="open-late" 
            {onclick}>

                <svg fill="#000000" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    viewBox="0 0 382.163 382.163" xml:space="preserve">
                    <g>
                        <path d="M344.89,215.855c0-50.602-24.567-95.57-62.396-123.618l2.982-5.326l46.258,25.92c1.16,0.65,2.418,0.958,3.659,0.958
                            c2.626,0,5.175-1.381,6.55-3.835c8.883-15.853,11.061-34.216,6.132-51.706c-4.243-15.059-13.327-27.91-25.887-36.864l5.722-10.22
                            c2.023-3.614,0.733-8.185-2.881-10.208c-3.614-2.023-8.184-0.734-10.208,2.88l-5.72,10.216
                            c-31.487-13.349-68.758-1.123-85.857,29.391c-0.972,1.735-1.215,3.786-0.676,5.7s1.817,3.536,3.553,4.509l46.268,25.925
                            l-2.406,4.297c-23.084-13.853-50.078-21.83-78.903-21.83c-28.825,0-55.818,7.977-78.902,21.829l-2.408-4.296l46.269-25.926
                            c3.614-2.025,4.902-6.595,2.877-10.209c-8.883-15.853-23.407-27.297-40.897-32.226c-15.061-4.244-30.765-3.205-44.96,2.833
                            L67.342,3.838c-2.023-3.615-6.593-4.904-10.208-2.881c-3.614,2.023-4.904,6.594-2.881,10.208l5.721,10.22
                            c-12.559,8.954-21.643,21.804-25.886,36.864c-4.929,17.49-2.751,35.854,6.132,51.706c1.375,2.454,3.924,3.835,6.55,3.835
                            c1.241,0,2.5-0.309,3.659-0.958l46.257-25.919l2.984,5.324c-37.83,28.047-62.397,73.016-62.397,123.619
                            c0,45.21,19.61,85.924,50.767,114.091l-9.427,43.114c-0.885,4.047,1.678,8.044,5.725,8.929c0.54,0.118,1.078,0.175,1.609,0.175
                            c3.448,0,6.553-2.393,7.32-5.899l7.818-35.757c25.321,18.332,56.416,29.157,89.996,29.157c33.58,0,64.676-10.825,89.997-29.158
                            l7.818,35.758c0.767,3.507,3.871,5.899,7.319,5.899c0.531,0,1.07-0.057,1.609-0.175c4.046-0.885,6.61-4.882,5.725-8.929
                            l-9.427-43.115C325.281,301.778,344.89,261.065,344.89,215.855z M308.517,30.436c12.357,6.924,21.279,18.246,25.121,31.88
                            c3.155,11.198,2.574,22.853-1.57,33.507l-91.609-51.331C256.211,23.856,285.228,17.387,308.517,30.436z M50.096,95.824
                            c-4.145-10.654-4.726-22.31-1.57-33.507c3.842-13.634,12.763-24.956,25.121-31.88c8.179-4.583,17.064-6.758,25.833-6.758
                            c16.201,0,32.005,7.425,42.225,20.814L50.096,95.824z M52.273,215.855c0-76.54,62.269-138.809,138.809-138.809
                            S329.89,139.315,329.89,215.855s-62.27,138.809-138.809,138.809S52.273,292.394,52.273,215.855z"/>
                        <path d="M191.081,107.685c-59.645,0-108.17,48.525-108.17,108.17c0,59.645,48.525,108.17,108.17,108.17
                            c59.646,0,108.17-48.525,108.17-108.17C299.252,156.21,250.727,107.685,191.081,107.685z M191.081,309.025
                            c-51.374,0-93.17-41.796-93.17-93.17c0-51.374,41.796-93.17,93.17-93.17c51.375,0,93.17,41.796,93.17,93.17
                            C284.252,267.229,242.456,309.025,191.081,309.025z"/>
                        <path d="M198.585,190.081v-36.262c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v36.26c-8.784,2.559-15.718,9.492-18.279,18.276
                            h-16.941c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h16.941c3.254,11.165,13.574,19.349,25.775,19.349
                            c14.805,0,26.849-12.044,26.849-26.849C217.93,203.655,209.748,193.337,198.585,190.081z M191.081,227.704
                            c-6.533,0-11.849-5.315-11.849-11.849s5.315-11.849,11.849-11.849c6.534,0,11.849,5.315,11.849,11.849
                            S197.615,227.704,191.081,227.704z"/>
                    </g>
                </svg>
            </button>
            <p>Open Late</p>
        </li>

        <li class:selected={currentCategory.name === "overall"}>
            <button class="image-container" 
            aria-label="overall" 
            {onclick}>
                <svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="400" viewBox="0, 0, 400,400"><g id="svgg"><path id="path0" d="M190.889 10.104 C 183.276 13.561,183.582 12.979,158.268 72.285 C 145.435 102.352,134.721 127.194,134.459 127.489 C 134.198 127.784,107.236 130.472,74.544 133.462 C 10.476 139.322,12.495 139.006,6.415 144.122 C 0.111 149.426,-2.078 161.581,1.869 169.362 C 4.263 174.080,5.223 174.971,53.320 217.114 C 75.557 236.597,93.750 252.870,93.750 253.277 C 93.750 253.683,87.910 279.743,80.772 311.187 C 69.804 359.505,67.855 369.035,68.187 372.725 C 69.407 386.307,82.313 395.029,95.695 391.314 C 97.409 390.838,121.388 376.953,148.981 360.459 C 176.574 343.964,199.544 330.469,200.024 330.469 C 200.504 330.469,222.580 343.428,249.081 359.267 C 275.583 375.105,298.822 388.855,300.725 389.822 C 310.769 394.926,323.719 391.106,329.110 381.448 C 333.516 373.554,333.699 374.858,319.233 311.156 C 312.092 279.713,306.250 253.659,306.250 253.259 C 306.250 252.859,325.498 235.662,349.023 215.043 C 372.549 194.424,392.925 176.400,394.305 174.989 C 402.313 166.797,401.949 151.159,393.585 144.122 C 387.097 138.662,391.198 139.285,318.750 132.753 C 289.746 130.137,265.801 127.763,265.540 127.475 C 265.278 127.188,254.578 102.367,241.763 72.317 C 216.332 12.686,216.756 13.488,208.871 10.108 C 204.127 8.074,195.365 8.072,190.889 10.104 M222.136 92.384 C 243.759 143.072,245.341 146.272,250.589 149.911 C 254.767 152.808,256.086 152.983,312.757 158.160 C 342.761 160.901,367.464 163.297,367.652 163.486 C 367.841 163.674,349.195 180.304,326.217 200.442 C 292.631 229.877,284.035 237.800,282.375 240.850 C 278.314 248.311,278.258 247.911,291.720 307.059 C 305.772 368.801,304.606 362.279,301.221 360.187 C 265.247 337.953,207.884 304.651,204.269 303.901 C 195.865 302.156,195.875 302.151,143.975 333.166 C 117.855 348.775,96.373 361.445,96.238 361.321 C 96.102 361.197,101.494 336.890,108.221 307.305 C 121.731 247.884,121.674 248.289,117.618 240.837 C 115.950 237.772,107.417 229.905,73.784 200.421 C 50.815 180.286,32.178 163.655,32.370 163.463 C 32.562 163.272,57.118 160.898,86.941 158.188 C 147.980 152.641,146.394 152.915,152.289 146.904 C 156.135 142.983,185.926 76.620,198.158 44.727 C 198.858 42.900,199.647 41.407,199.911 41.407 C 200.175 41.407,210.176 64.347,222.136 92.384 " stroke="none" fill-rule="evenodd"></path></g></svg>
            </button>
            <p>Overall</p>
        </li>

    </ul>
</div>


<style>

    :root {
        --padding: 0;
        --margin: 0;
        --button-size: clamp(4rem, 8vw, 7rem);
    }

    .carousel {
        width: 100%;
        padding: var(--padding);
    }

    ul {
        list-style: none;
        display: flex;
        flex-direction: row;
        justify-content: space-evenly;
        align-items: center;
        padding: var(--padding);
        margin: var(--margin);
        width: 100%;
    }

    li {
        display: flex;
        width: 15%;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    
    .image-container {
        width: 80%;
        min-width: 2rem;
        aspect-ratio: 1/1;
        margin-block-start: 0.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: .5rem;
        border: transparent;
        box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
        max-width: 7.5ch;
        background-color: var(--bg-clr);
        @media (max-width: 600px) {
            width: 50%;
            min-width: 0;
        }
    }

    .image-container:hover {
        background-color: var(--hover-clr);
        cursor: pointer;
        box-shadow: var(--box-shadow);
    }

    @keyframes pulse {
        0% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.05);
        }
        100% {
            transform: scale(1);
        }
    }
    
    
    .image-container:active {
        border-color: var(--primary-clr);
        box-shadow: var(--box-shadow);
        animation: pulse .2s ease-in-out;
    }

    li.selected > .image-container, li.selected > p {
        border-color: var(--primary-clr);
        color: var(--primary-clr);
    }

    li svg {
        width: 100%;
        height: 100%;
        fill: var(--font-clr);
        display: block;
    }

    li.selected svg, li.selected svg > path{
        fill: var(--primary-clr);
    }

    p {
        font-size: 0.5rem;
        display: block;
        color: var(--font-clr);
        text-align: center;
        font-weight: var(--font-weight);
    }

    @media (max-width: 600px) {
        p {
            font-size: 0.65rem; 
        }
    }

</style>

